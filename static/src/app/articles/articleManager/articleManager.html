<div class="top-margin">
  <div ng-show="$ctrl.accessToChange && $ctrl.isEdit">
    <form name="ArticleForm">
      <div class="form-group">
        <p>
          <span class="text-muted">Категория:</span> [[ $ctrl.category.name ]]
          <span ng-click="$ctrl.showArticle()" class="glyphicon glyphicon-check clck-icon"></span>
        </p>
        <input class="form-control inline-block" ng-model="$ctrl.article.title" placeholder="Название" required>
        <hr>

        <span ng-click="$ctrl.addImage()" class="glyphicon glyphicon-picture clck-icon"></span>
        <span ng-click="$ctrl.addText()" class="glyphicon glyphicon-pencil clck-icon"></span>

        <textarea ng-if="!$ctrl.showParsedBody" class="form-control" ng-model="$ctrl.article.body" rows="20" required></textarea>

        <div ng-if="$ctrl.showParsedBody" ng-bind-html="$ctrl.article.parsedBody"></div>

        <button class="btn btn-primary top-margin" ng-click="$ctrl.articleAction()" ng-disable="ArticleFrom.$invalid">Сохранить</button>
        <button class="btn btn-primary top-margin" ng-click="$ctrl.deleteArticle()">Удалить</button>

      </div>
    </form>
    <cloud-upload></cloud-upload>
    <h3>Добавить статью к категории</h3>
    <hr>
    <input class="form-control short-input" ng-model="$ctrl.articleAddToCategory" placeholder="Поиск">
    <div ng-repeat="article in $ctrl.allArticles | filter : $ctrl.articleAddToCategory">
      <a href="#" ng-click="$ctrl.addArticleToCategory(article)" title="Добавить статью к категории">[[ article.title ]]</a>
    </div>
  </div>

  <div ng-show="!$ctrl.accessToChange || !$ctrl.isEdit">
    <p>
      <span class="text-muted">Категория:</span> [[ $ctrl.category.name ]]
      <span ng-show="$ctrl.accessToChange" ng-click="$ctrl.showEditTools()" class="glyphicon glyphicon-pencil clck-icon"></span>
    </p>
    <p>[[ $ctrl.article.title ]]</p>
    <hr>
    <div ng-bind-html="$ctrl.article.parsedBody"></div>
  </div>
</div>
